(function(e){function t(t){for(var r,i,a=t[0],c=t[1],l=t[2],m=0,d=[];m<a.length;m++)i=a[m],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},s={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("App-Header"),n("router-view")],1)},o=[],i=(n("96cf"),n("1da1")),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"app-header set-navbar-pref\\ flex row center space-between"},[n("div",{staticClass:"body-screen",class:e.menuButtonOpen,on:{click:e.toggleMenuButtonOpen}}),n("div",{staticClass:"logo",on:{click:function(t){return e.moveToHomePage()}}}),n("div",{staticClass:"nav flex row center",class:e.menuButtonOpen},[n("router-link",{staticClass:"flex row center space-between",attrs:{to:"/login"}},[e._v(" Login "),n("font-awesome-icon",{staticClass:"arrow-icon",attrs:{icon:"angle-right"}})],1),n("router-link",{staticClass:"flex row center space-between",attrs:{to:"/signup"}},[e._v(" Signup "),n("font-awesome-icon",{staticClass:"arrow-icon",attrs:{icon:"angle-right"}})],1),n("router-link",{staticClass:"flex row center space-between",attrs:{to:"/about"}},[e._v(" About "),n("font-awesome-icon",{staticClass:"arrow-icon",attrs:{icon:"angle-right"}})],1),e.loggedInUser?n("div",{staticClass:"loggedInUser-img",style:"background-image:url("+e.loggedInUser.imgUrl+")"}):e._e()],1),n("div",{staticClass:"nav-mobile flex row center"},[e.loggedInUser?n("div",{staticClass:"loggedInUser-img",style:"background-image:url("+e.loggedInUser.imgUrl+")"}):e._e(),n("MenuButton",{class:e.menuButtonOpen,nativeOn:{click:function(t){return e.toggleMenuButtonOpen()}}})],1)])},c=[],l=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},u=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hamburger-icon"},[n("span"),n("span"),n("span"),n("span")])}],m={},d=m,f=n("2877"),p=Object(f["a"])(d,l,u,!1,null,null,null),g=p.exports,h={data:function(){return{isMenuButtonOpen:!1,isShowBodyScreen:!1}},methods:{moveToHomePage:function(){this.$router.push("/")},toggleMenuButtonOpen:function(){this.isMenuButtonOpen=!this.isMenuButtonOpen}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser},menuButtonOpen:function(){return{open:this.isMenuButtonOpen}}},components:{MenuButton:g}},v=h,w=Object(f["a"])(v,a,c,!1,null,null,null),b=w.exports,y={created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"loadUsers"});case 2:e.$store.dispatch({type:"loadRooms"});case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{}},components:{AppHeader:b}},C=y,x=Object(f["a"])(C,s,o,!1,null,null,null),_=x.exports,R=n("9483");Object(R["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var k=n("8c4f"),I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"homepage flex column"},[n("div",{staticClass:"hero",attrs:{"data-aos":"fade","data-aos-duration":"1500","data-aos-easing":"linear","data-aos-once":"true","data-aos-anchor-placement":"bottom-bottom"}},[n("div",{staticClass:"hero-content flex column center align-start"},[n("h1",[e._v("Music Made Social.")]),n("p",[e._v("100% Free Music")]),n("p",[e._v("Be Part of the community")]),n("p",[e._v("Listen together with friends")]),n("div",{staticClass:"main-btn flex row center space-between"},[n("span",{on:{click:function(t){return e.moveToRooms()}}},[e._v("Join Rooms")]),n("span",[n("font-awesome-icon",{attrs:{icon:"long-arrow-alt-right"}})],1)])])]),n("div",{staticClass:"homepage-main"},[n("div",{staticClass:"top-rated-container flex column container"},[e._m(0),n("div",{staticClass:"gallery-container"},[e.topRatedRooms.length?n("TopRated",{staticClass:"container",attrs:{topRatedRooms:e.topRatedRooms}}):n("div",{staticClass:"spinner-wrapper flex row center"},[n("Spinner")],1)],1)]),n("div",{staticClass:"trend-users-container flex column container"},[e._m(1),e.topRatedUsers.length?n("div",{staticClass:"trend-user-list flex column center"},[e._l(e.topRatedUsers,(function(e,t){return n("TrendUserPreview",{key:e._id,attrs:{user:e,idx:t,"data-aos":"fade-up","data-aos-duration":"1000","data-aos-easing":"ease-in-out","data-aos-mirror":"true","data-aos-once":"true","data-aos-anchor-placement":"bottom-bottom"}})})),n("div",{staticClass:"flex row center"},[e.isShowLess?n("div",{staticClass:"show-less-btn btn flex row center",on:{click:function(t){return e.handleShowLessClicked()}}},[n("font-awesome-icon",{attrs:{icon:"long-arrow-alt-left"}}),n("span",[e._v("Show Less")])],1):e._e(),e.isShowMore?n("div",{staticClass:"show-more-btn btn flex row center",on:{click:function(t){return e.handleShowMoreClicked()}}},[n("span",[e._v("Show More")]),n("font-awesome-icon",{attrs:{icon:"long-arrow-alt-right"}})],1):e._e()])],2):n("Spinner")],1),n("div",{ref:"roomsContainer",staticClass:"rooms-list-container flex column"},[e._m(2),n("RoomFilter"),e.roomsToShowInfinteScroll.length?n("RoomsList",{staticClass:"roomsList",attrs:{rooms:e.roomsToShowInfinteScroll}}):n("Spinner"),n("div",{staticClass:"infiniteScrollTrigger"}),e.isShowInfiniteSpinner?n("Spinner",{staticClass:"infinte-scroll-spinner"}):e._e(),n("div",{staticClass:"no-room-msg"},[e._v("No More Rooms To Discover ... Create Your Own Playlist")])],1)]),n("div",{staticClass:"create-room-btn btn float flex row center",on:{click:function(t){return e.toggleOpenRoom()}}},[n("font-awesome-icon",{attrs:{icon:"plus"}})],1),n("div",{staticClass:"screen",class:e.createRoomOpen,on:{click:function(t){return e.toggleOpenRoom()}}},[n("CreateRoom",{staticClass:"create-room-resp",class:e.createRoomOpen})],1),n("CreateRoom",{staticClass:"create-room-mobile",class:e.createRoomOpen})],1)},O=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-rated-content"},[n("h2",{staticClass:"title"},[e._v("Popular on Playlist")]),n("p",[e._v("Check out what's trending on Playlist")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"trend-users-content"},[n("h2",{staticClass:"title"},[e._v("Meet Our Trending Memebers")]),n("p",[e._v("Discover top rated memebers on Playlist")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rooms-list-content"},[n("h2",{staticClass:"title"},[e._v("Join Our Music Rooms")]),n("p",[e._v("Listen to Music , Connect People , Be part of our community")])])}],S=(n("4de4"),n("4160"),n("a15b"),n("fb6a"),n("b0c0"),n("4d63"),n("ac1f"),n("25f0"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rooms-container"},[n("div",e._l(e.rooms,(function(e){return n("RoomPreview",{key:e._id,staticClass:"room",attrs:{room:e}})})),1)])}),P=[],M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"room-preview flex column",on:{click:this.handleRoomClicked}},[n("div",{staticClass:"room-creators flex row center justify-start"},[n("span",[e._v("Created By")]),e.isAdminsInit?n("div",{staticClass:"flex row center"},e._l(e.admins,(function(e,t){return n("div",{key:t,staticClass:"admin-img",style:"background-image:url("+e.imgUrl+")"})})),0):e._e()]),n("div",{staticClass:"room-img ratio-16-9",style:"background-image:linear-gradient(rgba(0, 0, 0, 0.2),rgba(0, 0, 0, 0.2)),url("+e.setRoomImg+")"},[n("div",{staticClass:"img-icon-wrapper flex row justify-end align-end"},[this.room.isLive?n("span",{staticClass:"img-icon live-title"},[e._v("🔴 Live")]):n("span",[n("font-awesome-icon",{staticClass:"img-icon",attrs:{icon:"play-circle"}})],1)])]),n("div",{staticClass:"room-content flex column"},[n("h2",{staticClass:"room-title flex row align-start space-between"},[n("span",[e._v(e._s(e.room.name))]),n("span",[n("font-awesome-icon",{staticClass:"list-icon",attrs:{icon:"list-ul"}})],1)]),n("p",{staticClass:"room-desc"},[e._v(e._s(e.room.desc))])]),n("div",{staticClass:"room-tags-container flex row center justify-start wrap"},e._l(e.tags,(function(t,r){return n("div",{key:r,staticClass:"tag"},[e._v(e._s(t))])})),0),n("div",{staticClass:"room-info flex row center space-between"},[e.isRoomMemebersInit?n("div",{staticClass:"memebers-container flex row center"},[e._l(e.roomMemebers,(function(e){return n("div",{key:e._id,staticClass:"room-memeber",style:"background-image:url("+e.imgUrl+")"})})),e.showMemebersDiff?n("div",{staticClass:"room-memeber room-count flex row center"},[n("span",[e._v("+"+e._s(e.showMemebersDiff))])]):e._e()],2):e._e(),n("div",{staticClass:"stats flex row center"},[n("div",{staticClass:"rating-icon-wrapper flex row"},[e._v(" "+e._s(this.room.rating)+" "),n("span",[n("font-awesome-icon",{staticClass:"btn stats-icon rating",attrs:{icon:"thumbs-up"}})],1)]),n("div",{staticClass:"views-icon-wrapper flex row"},[e._v(" "+e._s(this.room.views)+" "),e._m(0)])])])])},j=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("i",{staticClass:"far fa-eye stats-icon views"})])}],U=(n("7db0"),n("d81d"),{props:["room"],data:function(){return{memebersFactor:4,defaultImg:"https://images.pexels.com/photos/2387793/pexels-photo-2387793.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940"}},methods:{handleRoomClicked:function(){this.$router.push("/details/".concat(this.room._id))}},computed:{users:function(){return this.$store.getters.users},admins:function(){var e=this,t=this.room.roomAdminsId,n=t.map((function(t){return e.users.find((function(e){return e._id===t}))}));return n},isAdminsInit:function(){var e=this.admins;for(var t in e)if("undefined"===typeof e[t])return!1;return!0},setRoomImg:function(){return this.room.playlist[0]?this.room.playlist[0].img:this.defaultImg},tags:function(){return this.room.tags.slice(0,5)},roomMemebers:function(){var e=this,t=this.room.memebersId,n=t.map((function(t){return e.users.find((function(e){return e._id===t}))}));return n.slice(0,4)},isRoomMemebersInit:function(){var e=this.roomMemebers;for(var t in e)if("undefined"===typeof e[t])return!1;return!0},showMemebersDiff:function(){var e=-1;return this.room.memebersId.length&&(e=this.room.memebersId.length-this.memebersFactor),!(e<1)&&e}}}),$=U,T=Object(f["a"])($,M,j,!1,null,null,null),B=T.exports,A={props:["rooms"],components:{RoomPreview:B},computed:{}},L=A,E=Object(f["a"])(L,S,P,!1,null,null,null),N=E.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-carousel",{attrs:{interval:5e3,outside:"",type:e.isMobileDisplay}},e._l(e.topRatedRooms,(function(t,r){return n("el-carousel-item",{key:t._id,class:"boxs-"+(r+1),style:"background-image:linear-gradient(rgba(5, 5, 5, 0.500),rgba(5, 5, 5, 0.900)),url("+t.playlist[0].img+")",nativeOn:{click:function(n){return e.moveToRoomDetails(t._id)}}})})),1)},D=[],F={props:["topRatedRooms"],data:function(){return{}},computed:{isMobileDisplay:function(){return window.innerWidth<=540?"":"card"}},methods:{moveToRoomDetails:function(e){console.log(e),this.$router.push("/details/".concat(e))}}},q=F,Y=Object(f["a"])(q,V,D,!1,null,null,null),H=Y.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create-room-container flex column center space-between",on:{click:function(e){e.stopPropagation()}}},[n("h2",{staticClass:"title"},[e._v("Create Your Room")]),n("div",{staticClass:"form"},[n("label",{attrs:{for:"name-create"}},[e._v("What Should We Call It ?")]),n("el-input",{staticClass:"input",attrs:{id:"name-create",type:"text",placeholder:"Name Your Room",maxlength:"60","show-word-limit":""},model:{value:e.room.name,callback:function(t){e.$set(e.room,"name",t)},expression:"room.name"}}),n("label",{attrs:{for:"desc-create"}},[e._v("What We Need To Know About it ?")]),n("el-input",{staticClass:"desc-create",attrs:{id:"input",type:"text",placeholder:"Describe Your Room",maxlength:"100","show-word-limit":""},model:{value:e.room.desc,callback:function(t){e.$set(e.room,"desc",t)},expression:"room.desc"}}),e._m(0),n("el-select",{attrs:{id:"select-create",multiple:"",filterable:!0,"allow-create":!0,"multiple-limit":5,placeholder:"Create Your Tags"},model:{value:e.room.tags,callback:function(t){e.$set(e.room,"tags",t)},expression:"room.tags"}},e._l(e.defaultTags,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._m(1),n("span",[n("el-switch",{staticClass:"live-create",attrs:{"active-color":"rgb(194, 145, 253)","inactive-color":"rgba(194, 145, 253, 0.507)"},model:{value:e.room.isLive,callback:function(t){e.$set(e.room,"isLive",t)},expression:"room.isLive"}}),e._v(" "+e._s(e.room.isLive)+" ")],1)],1),n("button",{staticClass:"publish-btn",on:{click:function(t){return e.createRoom()}}},[e._v("Publish Your Room")])])},J=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"select-create"}},[e._v(" Create Tags Describing Your Room , "),n("span",[e._v("You Can Add Your Own Tags !")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"live-create"}},[e._v(" Should It be a Live Room ? "),n("span",[e._v("Anyone Can Synchronize with the Video")])])}],z={data:function(){return{room:{name:"",desc:"",tags:[],isLive:!0},defaultTags:[{value:"Hip Hop",label:"Hip Hop"},{value:"Classic",label:"Classic"},{value:"Rock",label:"Rock"},{value:"Alternative",label:"Alternative"},{value:"Dance",label:"Dance"},{value:"Pop",label:"Pop"},{value:"Rap",label:"Rap"},{value:"R&b",label:"R&b"},{value:"Reggaton",label:"Reggaton"},{value:"Techno",label:"Techno"},{value:"Trance",label:"Trance"},{value:"Soul",label:"Soul"},{value:"Hits",label:"Hits"}]}},methods:{createRoom:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loggedInUser||!e.room.name){t.next=11;break}return n=e.loggedInUser._id,r=Object.assign({},e.room),r.roomAdminsId=[],r.roomAdminsId.push(n),console.log(r,"newRoom!"),t.next=8,e.$store.dispatch({type:"createRoom",room:r});case 8:e.showMessage("Successfully Created Room!"),t.next=12;break;case 11:e.loggedInUser?e.showMessage("Room Name Required!"):e.showMessage("Can Not Create Room , Please Log In Or Register");case 12:case"end":return t.stop()}}),t)})))()},showMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Action Is Not Allowed";this.$message({showClose:!0,message:e,duration:5500})}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}}},G=z,K=Object(f["a"])(G,W,J,!1,null,null,null),Q=K.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex row center"},[n("div",{staticClass:"filter-wrapper flex row center"},[n("el-input",{staticClass:"input",attrs:{placeholder:"Search Room"},on:{change:function(t){return e.setFilterBy()}},model:{value:e.filterBy.txt,callback:function(t){e.$set(e.filterBy,"txt",t)},expression:"filterBy.txt"}},[n("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),n("el-select",{attrs:{placeholder:"Select"},on:{change:function(t){return e.setFilterBy()}},model:{value:e.filterBy.options,callback:function(t){e.$set(e.filterBy,"options",t)},expression:"filterBy.options"}},e._l(e.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)])},Z=[],ee={saveToSession:te,loadFromSession:ne,saveToLocal:re,makeId:se,getRndNum:oe};function te(e,t){var n=JSON.stringify(t);sessionStorage.setItem(e,n)}function ne(e){var t=sessionStorage.getItem(e),n=JSON.parse(t);return n}function re(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)}function se(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function oe(e,t){return Math.floor(Math.random()*(e-t+1))+t}var ie,ae,ce={data:function(){return{options:[{value:"all",label:"ALL"},{value:"name",label:"By Room Name"},{value:"desc",label:"By Room Description"},{value:"tags",label:"By Room Tags"}],filterBy:{txt:"",options:"all"}}},created:function(){sessionStorage.filterBy&&(this.filterBy=ee.loadFromSession("filterBy")),console.log(this.filterBy)},methods:{setFilterBy:function(){this.$store.dispatch({type:"setFilterBy",filterBy:this.filterBy}),ee.saveToSession("filterBy",this.filterBy)}}},le=ce,ue=Object(f["a"])(le,X,Z,!1,null,null,null),me=ue.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"trend-user-preview btn flex row center justify-start",on:{click:function(t){return e.moveToUserProfile()}}},[n("div",{staticClass:"trend-user-img",style:"background-image:linear-gradient(rgba(0, 0, 0, 0.1),rgba(0, 0, 0, 0.7)),url("+e.user.imgUrl+")"}),n("div",{staticClass:"trend-user-details flex row center space-between"},[n("div",{staticClass:"trend-user-info flex row center justify-start"},[n("div",{staticClass:"flex column center align-start personal-info"},[n("p",[e._v(e._s(e.user.firstName)+" "+e._s(e.user.lastName))]),n("p",[e._v(e._s(e.user.city)+", "+e._s(e.user.country))]),n("p",{staticClass:"rating-wrapper-mobile"},[n("font-awesome-icon",{staticClass:"rating-star",attrs:{icon:"star"}}),n("span",[e._v(e._s(e.user.rating))]),0==e.idx?n("span",[e._v("🏆")]):1==e.idx?n("span",[e._v("🥈")]):2==e.idx?n("span",[e._v("🥉")]):e._e()],1)]),n("div",{staticClass:"rating-wrapper"},[n("font-awesome-icon",{staticClass:"rating-star",attrs:{icon:"star"}}),n("span",[e._v(e._s(e.user.rating))]),0==e.idx?n("span",[e._v("🏆")]):1==e.idx?n("span",[e._v("🥈")]):2==e.idx?n("span",[e._v("🥉")]):e._e()],1)]),n("div",{staticClass:"user-rooms-list flex row center space-between"},[e.roomsPerUser.length?n("div",{staticClass:"flex row center btn"},[e._l(e.roomsPerUser,(function(e,t){return n("div",{key:t,staticClass:"user-room",style:"background-image:linear-gradient(rgba(0, 0, 0, 0.5),rgba(0, 0, 0, 0.5)),url("+e.playlist[0].img+")"})})),n("div",{staticClass:"explore-btn flex row center"},[n("font-awesome-icon",{attrs:{icon:"long-arrow-alt-right"}})],1)],2):n("div",{staticClass:"user-room-alt"},[e._v("No Rooms Currently")])])])])},fe=[],pe=(n("caad"),n("2532"),{props:["user","idx"],methods:{moveToUserProfile:function(){this.$router.push("user/".concat(this.user._id))}},computed:{rooms:function(){return this.$store.getters.rooms},roomsPerUser:function(){var e=this,t=this.rooms,n=t.filter((function(t){return t.roomAdminsId.includes(e.user._id)}));return n.slice(0,3)}}}),ge=pe,he=Object(f["a"])(ge,de,fe,!1,null,null,null),ve=he.exports,we=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},be=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lds-roller"},[n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div")])}],ye={},Ce=ye,xe=Object(f["a"])(Ce,we,be,!1,null,null,null),_e=xe.exports,Re={mounted:function(){this.handleInfiniteScroll()},data:function(){return{swiperOption:{slidesPerView:3,spaceBetween:30,slidesPerGroup:1,pagination:{clickable:!0,el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},loop:!0,loopFillGroupWithBlank:!0,breakpoints:{750:{slidesPerView:3},540:{slidesPerView:2},300:{slidesPerView:1}}},isCreatRoomOpen:!1,usersCount:6,maxRoomsPerPage:9,currentPage:1,isShowInfiniteSpinner:!1}},methods:{compareFunc:function(){return function(e,t){return e.rating<t.rating?1:e.rating>t.rating?-1:e.rating===t.rating?0:void 0}},toggleOpenRoom:function(){this.isCreatRoomOpen=!this.isCreatRoomOpen},moveToRooms:function(){var e=this.$refs.roomsContainer;e.scrollIntoView()},handleShowMoreClicked:function(){this.usersCount=this.usersCount+3},handleShowLessClicked:function(){this.usersCount=this.usersCount-3},handleInfiniteScroll:function(){var e=this,t=new IntersectionObserver((function(t){t.forEach((function(t){t.intersectionRatio>0&&e.currentPage<e.pageCount&&(e.isShowInfiniteSpinner=!0,setTimeout((function(){e.currentPage+=1,e.isShowInfiniteSpinner=!1}),2e3));var n=document.querySelector(".no-room-msg");t.intersectionRatio>0&&e.currentPage>=e.pageCount&&!n.classList.contains("show")&&n.classList.add("show")}))}));t.observe(document.querySelector(".infiniteScrollTrigger"))}},computed:{roomsToShow:function(){var e,t=this.$store.getters.rooms,n=new RegExp("".concat(this.filterBy.txt),"i");if("all"===this.filterBy.options)e=t.filter((function(e){return n.test(e.name)||n.test(e.desc)||n.test(e.tags.join(" "))}));else{var r=this.filterBy.options;e="tags"===r?t.filter((function(e){return n.test(e[r].join(" "))})):t.filter((function(e){return n.test(e[r])}))}return e},topRatedRooms:function(){var e=this.roomsToShow;return e.sort(this.compareFunc()).slice(0,4)},usersToShow:function(){return this.$store.getters.users},topRatedUsers:function(){var e=this.usersToShow;return e.sort(this.compareFunc()).slice(0,this.usersCount)},createRoomOpen:function(){return{open:this.isCreatRoomOpen}},filterBy:function(){return this.$store.getters.filterBy},isShowLess:function(){return this.usersCount>6},isShowMore:function(){return this.usersCount<12},pageOffset:function(){return this.maxRoomsPerPage*this.currentPage},pageCount:function(){return Math.ceil(this.roomsToShow.length/this.maxRoomsPerPage)},roomsToShowInfinteScroll:function(){return this.roomsToShow.slice(0,this.pageOffset)}},components:{RoomFilter:me,RoomsList:N,TopRated:H,CreateRoom:Q,TrendUserPreview:ve,Spinner:_e}},ke=Re,Ie=Object(f["a"])(ke,I,O,!1,null,null,null),Oe=Ie.exports,Se=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Pe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"about flex column center"},[n("h1",[e._v("Welcome To Muzebox")]),n("div",{staticClass:"about-content"},[n("p",[e._v("It's a social music platform where you can listen together, chat and connect with others by your music prefrences.")]),n("p",[e._v("You Can join or create 2 types of rooms:")]),n("p",[e._v(" 1. "),n("span",[e._v("Playlist Rooms")]),e._v(" - Listen Or Share With Others Your Playlist. ")]),n("p",[e._v(" 2. "),n("span",[e._v("Live Rooms")]),e._v(" - which gives you the abillity to Synchronize the music player stream according to the Room Creator stream, now you can listen with other's at the exact TIME! ")])])])}],Me={},je=Me,Ue=Object(f["a"])(je,Se,Pe,!1,null,null,null),$e=Ue.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"form-wrapper signup-wrapper flex row center space-between"},[n("div",{staticClass:"form signup-form flex column space-between"},[e._m(0),n("div",{staticClass:"input-first"},[n("div",{staticClass:"flex row center"},[e._v(" Firstname: "),n("el-input",{attrs:{type:"text",placeholder:"John"},model:{value:e.userCred.firstName,callback:function(t){e.$set(e.userCred,"firstName",t)},expression:"userCred.firstName"}})],1)]),n("div",{staticClass:"input-last"},[n("div",{staticClass:"flex row center"},[e._v(" Lastname: "),n("el-input",{attrs:{type:"text",placeholder:"Doe"},model:{value:e.userCred.lastName,callback:function(t){e.$set(e.userCred,"lastName",t)},expression:"userCred.lastName"}})],1)]),n("div",{staticClass:"input-user"},[n("div",{staticClass:"flex row center"},[e._v(" Email: "),n("el-input",{attrs:{type:"email",placeholder:"example@gmail.com"},model:{value:e.userCred.email,callback:function(t){e.$set(e.userCred,"email",t)},expression:"userCred.email"}})],1)]),n("div",{staticClass:"input-pass"},[n("div",{staticClass:"flex row center"},[e._v(" Password: "),n("el-input",{attrs:{type:"password",placeholder:"*****","show-password":""},model:{value:e.userCred.password,callback:function(t){e.$set(e.userCred,"password",t)},expression:"userCred.password"}})],1)]),n("div",{staticClass:"input-country"},[n("div",{staticClass:"flex row center"},[e._v(" Country: "),n("el-input",{attrs:{type:"text"},model:{value:e.userCred.country,callback:function(t){e.$set(e.userCred,"country",t)},expression:"userCred.country"}})],1)]),n("div",{staticClass:"input-city"},[n("div",{staticClass:"flex row center"},[e._v(" City: "),n("el-input",{attrs:{type:"text"},model:{value:e.userCred.city,callback:function(t){e.$set(e.userCred,"city",t)},expression:"userCred.city"}})],1)]),n("div",{staticClass:"missing-fields-note",class:e.isActiveMissingNote},[e._v("* Missing Required Fields")]),n("div",{staticClass:"register-btn-wrapper flex column center space-evenly"},[n("button",{staticClass:"register",on:{click:function(t){return e.handleRegister()}}},[e._v("Create Account")]),n("div",[e._v(" Already have an account? "),n("span",{staticClass:"signIn-btn",on:{click:function(t){return e.moveToLogin()}}},[e._v("Sign in")])])])]),n("div",{staticClass:"aside"})])},Be=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex column"},[n("h2",[e._v("Create your Account")]),n("p",[e._v("Listen To Music, Connect People , Be part of our Community.")])])}],Ae=(n("d3b7"),n("ddb0"),{data:function(){return{userCred:{firstName:"",lastName:"",email:"",password:"",city:"",country:""},isShowMissingNote:!1}},methods:{handleRegister:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,s,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=!1,t.t0=regeneratorRuntime.keys(e.userCred);case 2:if((t.t1=t.t0()).done){t.next=9;break}if(r=t.t1.value,e.userCred[r]){t.next=7;break}return n=!0,t.abrupt("continue",2);case 7:t.next=2;break;case 9:if(n){t.next=21;break}return t.next=12,e.$store.dispatch({type:"doSignup",userCred:e.userCred});case 12:return s=t.sent,o=s.email,i=s.password,t.next=17,e.$store.dispatch({type:"doLogin",userCred:{email:o,password:i}});case 17:e.isShowMissingNote=!1,e.userCred={firstName:"",lastName:"",email:"",password:"",city:"",country:""},t.next=23;break;case 21:console.log("Missing Required Fields!"),e.isShowMissingNote=!0;case 23:case"end":return t.stop()}}),t)})))()},moveToLogin:function(){this.$router.push("/login")}},computed:{isActiveMissingNote:function(){return{show:this.isShowMissingNote}}}}),Le=Ae,Ee=Object(f["a"])(Le,Te,Be,!1,null,null,null),Ne=Ee.exports,Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"form-wrapper flex row center justify-start"},[n("div",{staticClass:"form flex column center"},[n("h2",{staticClass:"form-title"},[e._v("Sign In")]),n("div",{staticClass:"input-container flex column"},[n("div",{staticClass:"flex row center"},[n("span",{staticClass:"icon-wrapper-login users-icon-wrapper flex row center justify-start"},[n("font-awesome-icon",{attrs:{icon:"users"}})],1),n("el-input",{staticClass:"input",attrs:{type:"email",placeholder:"Email"},model:{value:e.userCred.email,callback:function(t){e.$set(e.userCred,"email",t)},expression:"userCred.email"}})],1),n("div",{staticClass:"flex row center"},[n("span",{staticClass:"icon-wrapper-login lock-icon-wrapper flex row center justify-start"},[n("font-awesome-icon",{attrs:{icon:"lock"}})],1),n("el-input",{staticClass:"input",attrs:{placeholder:"Password","show-password":""},model:{value:e.userCred.password,callback:function(t){e.$set(e.userCred,"password",t)},expression:"userCred.password"}})],1)]),n("div",{staticClass:"btns-box flex row center space-between"},[n("div",[e._v(" Dont Have Account ? "),n("span",{staticClass:"register btn",on:{click:function(t){return e.moveToRegister()}}},[e._v("Register")])]),e.loggedInUser?n("button",{staticClass:"login-btn",on:{click:function(t){return e.handleLogout()}}},[e._v("Logout")]):n("button",{staticClass:"login-btn",on:{click:function(t){return e.handleLogin()}}},[e._v("Login")])])])])},De=[],Fe={data:function(){return{userCred:{email:"",password:""}}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}},methods:{handleLogin:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=Object.assign({},e.userCred),!n.email||!n.password){t.next=10;break}return t.next=4,e.$store.dispatch({type:"doLogin",userCred:n});case 4:r=t.sent,r||e.showMessage("Email Or Password Are Invalid!"),e.userCred.email="",e.userCred.password="",t.next=11;break;case 10:e.showMessage("Missing Required Fields");case 11:case"end":return t.stop()}}),t)})))()},handleLogout:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"doLogout"});case 2:case"end":return t.stop()}}),t)})))()},moveToRegister:function(){this.$router.push("/signup")},showMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Action Is Not Allowed";this.$message({showClose:!0,message:e,duration:5500})}}},qe=Fe,Ye=Object(f["a"])(qe,Ve,De,!1,null,null,null),He=Ye.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"room-wrapper base-padding"},[n("div",{staticClass:"room-details-container container"},[n("div",{staticClass:"details-header flex row center space-between"},[n("h3",{staticClass:"flex row center"},[e._v(e._s(this.room.name))]),n("div",{staticClass:"btns-box flex row center"},[n("div",{staticClass:"header-info flex row center"},[e.isUserLikedRoom?n("div",{on:{click:function(t){return e.removeLike()}}},[e._v(" "+e._s(this.room.rating)+" "),n("font-awesome-icon",{staticClass:"btn info-icon liked",attrs:{icon:"thumbs-down"}})],1):n("div",{on:{click:function(t){return e.addLike()}}},[e._v(" "+e._s(this.room.rating)+" "),n("font-awesome-icon",{staticClass:"btn info-icon like",attrs:{icon:"thumbs-up"}})],1),n("div",[e._v(" "+e._s(this.room.views)+" "),n("i",{staticClass:"far fa-eye info-icon views"})])]),e.isSearchTabOpen?n("div",{staticClass:"btn add-btn",on:{click:function(t){return e.toggleSearchTabOpen()}}},[e._v("Expand Chat")]):n("div",{staticClass:"btn add-btn",on:{click:function(t){return e.toggleSearchTabOpen()}}},[e._v("Add To Playlist")]),n("div",{staticClass:"btn",on:{click:function(t){return e.removeRoom()}}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)])]),n("RoomChat",{staticClass:"chat",class:e.searchTabOpen,attrs:{room:e.room},on:{showMessage:this.showMessage}}),n("SearchTab",{staticClass:"search-container",class:e.searchTabOpen,attrs:{room:e.room,isAdmin:e.isAdmin},on:{addVideo:this.addVideo}}),n("MusicPlayer",{ref:"musicPlayer",attrs:{room:e.room}}),n("Playlist",{attrs:{room:e.room,isAdmin:e.isAdmin},on:{removeVideo:this.removeVideo,showMessage:this.showMessage}}),e.checkMemebersCount()?n("div",{staticClass:"social-box flex column"},[n("div",{staticClass:"tag"},[e._v("Memebers:")]),n("div",{staticClass:"profile-imgs-container flex row center justify-start"},[e._l(e.memebers,(function(e,t){return n("div",{key:t,staticClass:"profile-img",style:"background-image: url("+e.imgUrl+");"})})),e.showMemebersDiff?n("div",{staticClass:"profile-img profile-count flex row center"},[n("span",[e._v("+"+e._s(e.showMemebersDiff))])]):e._e()],2)]):n("div",{staticClass:"social-box flex row center"},[e._v("No Memebers in the Room For Now")]),n("div",{staticClass:"admins-box"},[n("div",{staticClass:"tag"},[e._v("Admins:")]),n("div",{staticClass:"profile-imgs-container flex row center justify-start"},e._l(e.admins,(function(e,t){return n("div",{key:t,staticClass:"profile-img",style:"background-image: url("+e.imgUrl+");"})})),0)]),n("div",{staticClass:"action-box-mobile flex row center space-evenly"},[n("span",{on:{click:function(t){return e.handleSyncButton()}}},[n("font-awesome-icon",{attrs:{icon:"sync"}})],1),n("span",{on:{click:function(t){return e.toggleSearchTabOpen()}}},[n("font-awesome-icon",{attrs:{icon:"plus"}})],1),n("span",{on:{click:function(t){return e.togglePlaylistOpen()}}},[n("font-awesome-icon",{attrs:{icon:"random"}})],1)])],1)])},Je=[],ze=(n("c740"),n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"music-player"},[n("div",{attrs:{id:"player"}}),e.isShowSyncBtn?n("div",{staticClass:"sync-btn btn",on:{click:function(t){return e.sync()}}},[n("span",[e._v("Sync")]),n("span",{staticClass:"sync-icon"},[n("font-awesome-icon",{attrs:{icon:"sync"}})],1)]):e._e()])}),Ge=[],Ke=(n("99af"),n("bc3a")),Qe=n.n(Ke),Xe=Object({NODE_ENV:"production",BASE_URL:"/"}).YT_APKEY,Ze=0,et=[],tt=!1,nt=0;function rt(e){et=e.playlist.map((function(e){return e.videoId})),ie=new ae.Player("player",{height:"390",width:"640",playerVars:{playlist:et.join(",")},events:{onReady:st,onStateChange:ot}}),tt&&(document.getElementById("player").src+="")}function st(e){e.target.loadPlaylist(et,nt),e.target.playVideo()}function ot(e){0===e.data&&(console.log("Video Ended"),nt=ie.getPlaylistIndex(),ie.loadPlaylist(et,Ze+1),Ze=nt)}function it(e){if("undefined"==typeof ae||"undefined"==typeof ae.Player){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),window.onYouTubePlayerAPIReady=function(){ae=window.YT,rt(e)}}else ie.getPlaylist&&ie.getPlaylistIndex&&ie.getPlaylist()[ie.getPlaylistIndex()]===e.playlist[ie.getPlaylistIndex()].videoId?et=e.playlist.map((function(e){return e.videoId})):(tt=!0,rt(e))}function at(e){return Qe.a.get("https://www.googleapis.com/youtube/v3/search?part=snippet&videoEmbeddable=true&type=video&key=".concat(Xe,"&q=").concat(e,"&maxResults=10")).then((function(e){return e.data})).then((function(e){return e.items}))}function ct(e){et.push(e.videoId)}function lt(e){if(et.length>0){var t=et.findIndex((function(t){return t===e}));return et.splice(t,1),t}return-1}function ut(){nt=0}function mt(){return{time:ie.getCurrentTime(),index:nt}}function dt(e){nt!==e.index&&(nt=e.index,ie.loadPlaylist(et,nt)),setTimeout((function(){ie.seekTo(e.time,!0)}),1e3)}function ft(){return ie}function pt(e){rt(e)}var gt,ht={loadPlayer:it,loadVids:at,addVideoToPlaylist:ct,removeVideoFromPlaylist:lt,resetPlayer:ut,getPlayerData:mt,updatePlayerData:dt,getPlayer:ft,initPlayer:pt},vt=n("8055"),wt=n.n(vt),bt="/";function yt(){gt=wt()(bt)}function Ct(){gt=null}function xt(e,t){gt.on(e,t)}function _t(e,t){gt.off(e,t)}function Rt(e,t){gt.emit(e,t)}var kt={setup:yt,terminate:Ct,on:xt,off:_t,emit:Rt},It={props:["room"],created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.getters.loggedInUser;case 2:e.loggedInUser=t.sent;case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{loggedInUser:null,counterFaildToSync:0}},computed:{isShowSyncBtn:function(){return this.room.roomAdminsId&&this.loggedInUser?this.room.isLive&&!this.room.roomAdminsId.includes(this.loggedInUser._id):this.room.isLive}},methods:{sync:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.room.isLive&&e.player().loadPlaylist&&e.player().seekTo)){t.next=6;break}return console.log("sync"),t.next=4,kt.emit("get data",{room:e.room});case 4:t.next=9;break;case 6:return 3===e.counterFaildToSync?e.showMessage("Cannot Sync, Try Refresh The Page"):e.room.isLive?(e.counterFaildToSync+=1,e.showMessage("Cannot Sync Music Player ...  Try Again")):e.showMessage("Cannot Sync, Room is NOT live room"),t.next=9,ht.initPlayer(e.room);case 9:case"end":return t.stop()}}),t)})))()},player:function(){return ht.getPlayer()},playVideo:function(){var e=ht.getTime();kt.emit("play video",e)},pauseVideo:function(){kt.emit("stop video")},showMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Action Is Not Allowed";this.$message({showClose:!0,message:e,duration:5500})}},watch:{room:function(){ht.loadPlayer(this.room)}}},Ot=It,St=Object(f["a"])(Ot,ze,Ge,!1,null,null,null),Pt=St.exports,Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"playlist"},[n("div",{staticClass:"header-container flex row center justify-start"},[n("span",{staticClass:"list-icon"},[n("font-awesome-icon",{staticClass:"list-icon",attrs:{icon:"list-ul"}})],1),n("h2",[e._v("Playlist")])]),n("draggable",{staticClass:"drag-wrapper",attrs:{handle:e.isDragging,"ghost-class":"ghost"},model:{value:e.room.playlist,callback:function(t){e.$set(e.room,"playlist",t)},expression:"room.playlist"}},[n("transition-group",{attrs:{type:"transition",name:"flip-list"}},e._l(e.room.playlist,(function(t,r){return n("div",{key:t.videoId,staticClass:"video-box video-box-playlist flex row center space-between",attrs:{"data-idx":r},on:{dragend:function(t){return e.handleDragend()},touchend:function(t){return e.handleDragend()}}},[n("div",{staticClass:"video-details"},[n("span",{staticClass:"playlist-idx"},[e._v(e._s(+r+1)+".")]),e._v(" "+e._s(t.title)+" ")]),n("span",{staticClass:"btn remove icon-wrapper flex row center",on:{click:function(n){return e.removeVideoFromPlaylist(t.videoId)}}},[n("i",{staticClass:"fas fa-times"})]),n("span",{staticClass:"btn flex row center"},[n("el-checkbox",{attrs:{disabled:!e.isAdmin},on:{change:function(t){return e.changePlaylistOrder(r)}},nativeOn:{click:function(t){return e.showDisableMsg(t)}},model:{value:e.checkboxVals[r],callback:function(t){e.$set(e.checkboxVals,r,t)},expression:"checkboxVals[idx]"}})],1),n("div",{staticClass:"video-img",style:"background-image: url("+t.img+");"})])})),0)],1)],1)},jt=[],Ut=n("310e"),$t=n.n(Ut),Tt={props:["room","isAdmin"],created:function(){},data:function(){return{nums:[],checkboxVals:{}}},computed:{isDragging:function(){return this.isAdmin?"":"false"},roomPlaylist:function(){return this.room.playlist}},methods:{handleDragend:function(){kt.emit("change room",this.room)},removeVideoFromPlaylist:function(e){this.isAdmin?this.$emit("removeVideo",e):this.$emit("showMessage","Only Admins Are Allowed removing video from playlist")},changePlaylistOrder:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.isAdmin){n.next=13;break}if(t.nums.includes(e)?(r=t.nums.findIndex((function(t){return t===e})),t.nums.splice(r,1)):t.nums.push(e),console.log(t.nums,"update middle func"),2!==t.nums.length){n.next=11;break}return s=t.room.playlist[t.nums[0]],t.room.playlist[t.nums[0]]=t.room.playlist[t.nums[1]],t.room.playlist[t.nums[1]]=s,t.nums.forEach((function(e){t.checkboxVals[e]=!1})),t.nums=[],n.next=11,kt.emit("change room",t.room);case 11:n.next=14;break;case 13:t.$emit("showMessage","Only Admins Are Allowed Updating Playlist");case 14:case"end":return n.stop()}}),n)})))()},showDisableMsg:function(){this.isAdmin||this.$emit("showMessage","Only Admins Are Allowed Updating Playlist")}},watch:{},components:{draggable:$t.a}},Bt=Tt,At=Object(f["a"])(Bt,Mt,jt,!1,null,null,null),Lt=At.exports,Et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"header-container flex row center justify-start"},[n("span",{on:{click:function(t){return e.handleSearch()}}},[n("i",{staticClass:"icon-search icon fas fa-search"})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.txt,expression:"txt"}],staticClass:"input",attrs:{placeholder:"Search"},domProps:{value:e.txt},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch()},input:function(t){t.target.composing||(e.txt=t.target.value)}}})]),this.isOptionsExist?n("div",{staticClass:"search-options-container flex column"},e._l(e.videos,(function(t,r){return n("div",{key:r,staticClass:"video-box flex row center justify-start"},[n("div",{staticClass:"video-img",style:"background-image: url("+t.img+");"}),n("div",{staticClass:"video-details flex column center align-start"},[n("span",{staticClass:"video-title"},[e._v(e._s(t.title))])]),n("div",{staticClass:"icons-container flex row center justify-end"},[e._m(0,!0),n("span",{staticClass:"btn add icon-wrapper flex row center",on:{click:function(n){return e.addVideo(t)}}},[n("i",{staticClass:"fas fa-plus"})])])])})),0):n("div",{staticClass:"search-msg flex row center"},[n("span",[e._v(e._s(e.msg))])])])},Nt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"btn info icon-wrapper flex row center"},[n("i",{staticClass:"fas fa-info"})])}],Vt={props:["room","isAdmin"],data:function(){return{txt:"",videos:[],msg:"Search Video For Your Playlist ..."}},methods:{handleSearch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isAdmin||!e.txt){t.next=8;break}return n=e.txt,t.next=4,ht.loadVids(n);case 4:r=t.sent,e.videos=r.map((function(e){return{videoId:e.id.videoId,title:e.snippet.title,img:e.snippet.thumbnails.default.url}})),e.txt="",e.videos.length||(e.msg="No Results Found ...");case 8:case"end":return t.stop()}}),t)})))()},addVideo:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$emit("addVideo",e);case 1:case"end":return n.stop()}}),n)})))()}},computed:{isOptionsExist:function(){return!!this.videos.length}}},Dt=Vt,Ft=Object(f["a"])(Dt,Et,Nt,!1,null,null,null),qt=Ft.exports,Yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"output"},[e._m(0),e._l(e.msgs,(function(t,r){return n("div",{key:r,staticClass:"chat-msg"},[e.checkLastMsgs(r)?n("div",{staticClass:"chat-msg-details flex row center justify-start"},[n("div",{staticClass:"profile-img msg-img",style:"background-image: url("+t.from.imgUrl+");"}),e.isUserSendMsg(r)?n("div",{staticClass:"msg-name"},[e._v(e._s(t.from.firstName))]):n("div",{staticClass:"msg-name"},[e._v("You")])]):e._e(),n("div",{staticClass:"msg-wrapper flex row center justify-start"},[n("div",{staticClass:"msg-txt"},[e._v(e._s(t.txt))])])])}))],2),n("div",{staticClass:"chat-form flex row"},[n("button",{on:{click:function(t){return e.sendMsg()}}},[e._v("Share")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.msg.txt,expression:"msg.txt"}],staticClass:"input",attrs:{type:"text",placeholder:"What you think?"},domProps:{value:e.msg.txt},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMsg()},input:function(t){t.target.composing||e.$set(e.msg,"txt",t.target.value)}}}),n("span",{staticClass:"btn icons-btn flex row center justify-end",on:{click:function(t){return e.toggleIsIconsBoxOpen()}}},[n("i",{staticClass:"fas icons fa-icons"})]),n("div",{staticClass:"icons-container flex row center justify-end",class:e.openIconsBox},[n("div",{staticClass:"icons-box flex row center"},e._l(e.iconsList,(function(t,r){return n("div",{key:r,staticClass:"icon-image btn",on:{click:function(n){return e.handleIconClicked(t)}}},[e._v(e._s(t))])})),0),n("span",{staticClass:"btn icons-btn icons-btn-back flex row center",on:{click:function(t){return e.toggleIsIconsBoxOpen()}}},[n("i",{staticClass:"fas icons fa-arrow-right"})])])])])},Ht=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-note"},[e._v(" * Only Sign In Memebers Can Chat , Everyone Can Use The "),n("span",[e._v("ICONS")]),e._v(" Button! ")])}],Wt={props:["room"],created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:kt.on("chat addMsg",e.addMsg),kt.on("create element",e.createElement);case 2:case"end":return t.stop()}}),t)})))()},updated:function(){var e=document.querySelector(".output");e.scrollTop=e.scrollHeight-e.clientHeight},destroyed:function(){kt.off("chat addMsg",this.addMsg)},data:function(){return{msgs:[],msg:{from:"",txt:""},iconsList:["🤗","😍","🧡","💪","😁","😵","🤪","✌️","🤩","🔥","✨"],isIconsBoxOpen:!1}},methods:{addMsg:function(e){var t=this.$store.getters.users,n=t.find((function(t){return t._id===e.from})),r=Object.assign({},e);r.from=n,this.msgs.push(r)},sendMsg:function(){this.loggedInUser?this.msg.txt&&(this.msg.from=this.loggedInUser._id,kt.emit("chat newMsg",this.msg),this.msg={from:"",txt:""}):this.$emit("showMessage","Only Logged In Memebers can comment,YOU CAN use the ICONS button ")},handleIconClicked:function(e){kt.emit("init element",e)},createElement:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=document.querySelector(".output"),r=document.createElement("DIV"),t.next=4,ee.getRndNum(3,1);case 4:s=t.sent,r.className="float-icon-wrapper flex row center floating-sample-".concat(""+s),r.innerText=e,r.dataset.id=ee.makeId(),r.addEventListener("animationend",(function(){var e=document.querySelector("div[data-id='".concat(r.dataset.id,"']"));n.removeChild(e)})),n.appendChild(r);case 10:case"end":return t.stop()}}),t)})))()},toggleIsIconsBoxOpen:function(){this.isIconsBoxOpen=!this.isIconsBoxOpen},isUserSendMsg:function(e){return!this.loggedInUser||this.msgs[e].from._id!==this.loggedInUser._id},checkLastMsgs:function(e){return this.msgs.length<2||!(e>0&&this.msgs[e].from._id===this.msgs[e-1].from._id)}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser},openIconsBox:function(){return{open:this.isIconsBoxOpen}}}},Jt=Wt,zt=Object(f["a"])(Jt,Yt,Ht,!1,null,null,null),Gt=zt.exports,Kt={created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return kt.setup(),kt.on("add newMember",e.updateRoom),kt.on("update room",e.updateRoom),kt.on("set rating",e.updateRoom),kt.on("set viewCount",e.setViewsCount),kt.on("get data from admin",e.getPlayerData),kt.on("cancel sync",e.cancelSync),kt.on("update data from admin",e.updatePlayerData),kt.on("handle remove room",e.handleRemoveRoom),t.next=11,e.$store.dispatch({type:"loadUsers"});case 11:return t.next=13,e.$route.params.id;case 13:return n=t.sent,t.next=16,e.$store.getters.rooms;case 16:return r=t.sent,e.room=r.find((function(e){return e._id===n})),kt.emit("setChatRoom",e.room.name),t.next=21,e.$store.dispatch({type:"initCurrViews",id:n});case 21:return s=t.sent,e.room.views=s,t.next=25,e.$store.getters.loggedInUser;case 25:if(e.loggedInUser=t.sent,o=!1,e.loggedInUser&&(o=!!e.room.memebersId.includes(e.loggedInUser._id)),!e.loggedInUser||o||sessionStorage.isRefresh){t.next=32;break}kt.emit("update roomMemembers",{type:"ADD",room:e.room,loggedInUser:e.loggedInUser,factor:1}),t.next=35;break;case 32:if(sessionStorage.isRefresh){t.next=35;break}return t.next=35,kt.emit("change viewCount",{room:e.room,factor:1});case 35:if(ee.saveToSession("isRefresh",!0),!e.room.isLive){t.next=39;break}return t.next=39,kt.emit("check room host",{room:e.room,loggedInUser:e.loggedInUser});case 39:case"end":return t.stop()}}),t)})))()},mounted:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed:function(){console.log("Destroyed"),window.removeEventListener("resize",this.handleResize),sessionStorage.removeItem("isRefresh"),ht.resetPlayer(),kt.emit("update roomMemembers",{type:"REMOVE",room:this.room,loggedInUser:this.loggedInUser,factor:-1}),kt.off("add newMember",this.addMsg),kt.off("set viewCount",this.updateRoom),kt.off("create element",this.createElement),kt.off("update room",this.updateRoom),kt.off("get data from admin",this.getPlayerData),kt.off("update data from admin",this.updatePlayerData),kt.off("cancel sync",this.cancelSync),kt.terminate()},data:function(){return{room:{},loggedInUser:null,isSearchTabOpen:!1,memebersFactor:10}},computed:{users:function(){return this.$store.getters.users},currViews:function(){return this.$store.getters.currViews},memebers:function(){var e=this;if(this.room.memebersId){var t=this.room.memebersId.map((function(t){return e.users.find((function(e){return e._id===t}))}));return t.slice(0,this.memebersFactor)}return[]},admins:function(){var e=this;if(this.room.roomAdminsId){var t=this.room.roomAdminsId.map((function(t){return e.users.find((function(e){return e._id===t}))}));return t.slice(0,3)}return[]},searchTabOpen:function(){return{"open-search-tab":this.isSearchTabOpen}},showMemebersDiff:function(){var e=-1;return this.room.memebersId.length&&(e=this.room.memebersId.length-this.memebersFactor),!(e<1)&&e},isUserLikedRoom:function(){return!(!this.loggedInUser||!this.loggedInUser.ratedRoomsId)&&this.loggedInUser.ratedRoomsId.includes(this.room._id)},isAdmin:function(){return!!this.room.roomAdminsId&&(this.loggedInUser&&this.room.roomAdminsId.includes(this.loggedInUser._id))}},methods:{updateRoom:function(e){this.room=Object.assign({},e),this.$store.dispatch({type:"updateRoom",room:this.room})},setViewsCount:function(e){this.room=Object.assign({},e)},toggleSearchTabOpen:function(){this.isAdmin?this.isSearchTabOpen=!this.isSearchTabOpen:this.showMessage("Only Admins Are Allowed adding video to playlist")},addVideo:function(e){ht.addVideoToPlaylist(e),this.room.playlist.push(e),this.updateRoom(this.room),kt.emit("change room",this.room)},removeVideo:function(e){var t=ht.removeVideoFromPlaylist(e);-1!==t&&(this.room.playlist.splice(t,1),this.updateRoom(this.room),kt.emit("change room",this.room))},checkMemebersCount:function(){return 0!==this.memebers.length},addLike:function(){this.loggedInUser?(this.loggedInUser.ratedRoomsId.push(this.room._id),this.$store.dispatch({type:"updateUser",loggedInUser:this.loggedInUser}),kt.emit("change rating",{room:this.room,factor:1})):this.showMessage("Please Log In or Register")},removeLike:function(){var e=this;if(this.loggedInUser){var t=this.loggedInUser.ratedRoomsId.findIndex((function(t){e.room._id}));this.loggedInUser.ratedRoomsId.splice(t,1),this.$store.dispatch({type:"updateUser",loggedInUser:this.loggedInUser}),kt.emit("change rating",{room:this.room,factor:-1})}else this.showMessage("Please Log In or Register")},showMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Action Is Not Allowed";this.$message({showClose:!0,message:e,duration:5500})},cancelSync:function(){this.showMessage("Can Not Sync , Admin Is not in the room")},startVideo:function(e){ht.startVideo(e)},pauesVideo:function(){ht.stopVideo()},handleResize:function(){var e=document.querySelector(".app-header");window.innerWidth<730&&(this.memebersFactor=5),window.innerWidth<630&&!e.classList.contains("set-navbar-pref")&&e.classList.add("set-navbar-pref")},getPlayerData:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("get your player data"),t.next=3,ht.getPlayerData();case 3:return n=t.sent,console.log(n),t.next=7,kt.emit("update new watcher",{to:e,data:n});case 7:case"end":return t.stop()}}),t)})))()},updatePlayerData:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,ht.updatePlayerData(e);case 3:case"end":return t.stop()}}),t)})))()},togglePlaylistOpen:function(){var e=document.querySelector(".music-player"),t=document.querySelector(".playlist");e.classList.toggle("close"),t.classList.toggle("show")},handleSyncButton:function(){this.$refs.musicPlayer.sync()},removeRoom:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isAdmin?e.$confirm("This will permanently delete the existing Room. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"removeRoom",id:e.room._id});case 2:kt.emit("handle remove room",e.room._id),e.$router.push("/"),e.showMessage('Successfully Removed "'.concat(e.room.name,'" room'));case 5:case"end":return t.stop()}}),t)})))).catch((function(){e.showMessage("Delete Cancelled")})):e.showMessage("Only Room Creators Or Supervisor can Delete Room!");case 1:case"end":return t.stop()}}),t)})))()},handleRemoveRoom:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch({type:"removeRoomSockets",id:e});case 2:t.$router.push("/"),t.showMessage("Room Was Removed By Room Creator Or Supervisor");case 4:case"end":return n.stop()}}),n)})))()}},components:{MusicPlayer:Pt,Playlist:Lt,RoomChat:Gt,SearchTab:qt}},Qt=Kt,Xt=Object(f["a"])(Qt,We,Je,!1,null,null,null),Zt=Xt.exports,en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return this.user?n("div",{staticClass:"user-profile-container container flex column"},[n("div",{staticClass:"user-info flex row center"},[n("div",{staticClass:"secondry-section flex column center"},[n("div",{staticClass:"user-img",style:"background-image:linear-gradient(rgba(0, 0, 0, 0.4),rgba(0, 0, 0, 0.6)),url("+e.user.imgUrl+")"})]),n("div",{staticClass:"primary-section user-content flex column"},[n("div",{staticClass:"name flex row center justify-start"},[e._v(" "+e._s(e.user.firstName)+" "+e._s(e.user.lastName)+" "),n("div",{staticClass:"rating flex row center"},[e._v(" "+e._s(e.user.rating)+" "),n("font-awesome-icon",{attrs:{icon:"star"}})],1)]),n("div",{staticClass:"address"},[e._v(e._s(e.user.country)+", "+e._s(e.user.city))]),n("p",[e._v('" '+e._s(e.user.motto)+' "')])])]),n("div",{staticClass:"user-room-list"},[e._m(0),e.roomsPerUser.length?n("div",e._l(e.roomsPerUser,(function(t,r){return n("div",{key:t._id,staticClass:"user-room-preview btn flex row center justify-start",on:{click:function(n){return e.moveToRoom(t._id)}}},[n("div",{staticClass:"room-idx flex row center"},[e._v(". "+e._s(+r+1))]),n("div",{staticClass:"room-video-img",style:"background-image:url("+t.playlist[0].img+")"}),n("div",{staticClass:"room-name"},[e._v(e._s(t.name))]),n("div",{staticClass:"room-desc"},[e._v(e._s(t.desc))]),n("div",{staticClass:"room-rating flex row center"},[n("span",{staticClass:"content"},[e._v(e._s(t.rating))]),n("span",{staticClass:"rating"},[n("font-awesome-icon",{attrs:{icon:"thumbs-up"}})],1)]),n("div",{staticClass:"room-views flex row center"},[n("span",{staticClass:"content"},[e._v(e._s(t.views))]),n("span",{staticClass:"views"},[n("font-awesome-icon",{attrs:{icon:"eye"}})],1)])])})),0):n("div",{staticClass:"user-room-preview-alt flex row center"},[e._v("No Rooms For Now ... ")])])]):e._e()},tn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"room-list-header flex row center space-between"},[n("h2",{staticClass:"title"},[e._v("My Room List")]),n("div",{staticClass:"social-box flex row center"},[n("span",{staticClass:"chat"},[n("i",{staticClass:"fas fa-comments"})]),n("span",{staticClass:"insta"},[n("i",{staticClass:"fab fa-instagram"})]),n("span",{staticClass:"face"},[n("i",{staticClass:"fab fa-facebook"})])])])}],nn={computed:{rooms:function(){return this.$store.getters.rooms},roomsPerUser:function(){var e=this,t=this.rooms,n=t.filter((function(t){return t.roomAdminsId.includes(e.user._id)}));return n.slice()},users:function(){return this.$store.getters.users},user:function(){var e=this.$route.params.id;return this.users?this.users.find((function(t){return t._id===e})):null}},methods:{moveToRoom:function(e){this.$router.push("/details/".concat(e))}}},rn=nn,sn=Object(f["a"])(rn,en,tn,!1,null,null,null),on=sn.exports;r["default"].use(k["a"]);var an=[{path:"/",component:Oe},{path:"/about",component:$e},{path:"/signup",component:Ne},{path:"/login",component:He},{path:"/details/:id",component:Zt},{path:"/user/:id",component:on}],cn=new k["a"]({mode:"hash",base:"/",routes:an,scrollBehavior:function(){return{x:0,y:0}}}),ln=cn,un=n("2f62"),mn="/",dn=Qe.a.create({withCredentials:!0}),fn={get:function(e,t){return pn(e,"GET",t)},post:function(e,t){return pn(e,"POST",t)},put:function(e,t){return pn(e,"PUT",t)},remove:function(e,t){return pn(e,"DELETE",t)}};function pn(e,t){return gn.apply(this,arguments)}function gn(){return gn=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var r,s,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:null,e.prev=1,e.next=4,dn({url:"".concat(mn).concat(t),method:n,data:r});case 4:return s=e.sent,e.abrupt("return",s.data);case 8:e.prev=8,e.t0=e["catch"](1),401===e.t0.response.status&&console.log("Error Status!");case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),gn.apply(this,arguments)}var hn="api/rooms",vn={query:wn,getById:bn,update:Cn,add:yn,remove:xn};function wn(){return fn.get(hn)}function bn(e){return fn.get("".concat(hn,"/").concat(e))}function yn(e){return fn.post(hn,e)}function Cn(e){return fn.put(hn,e)}function xn(e){return fn.remove("".concat(hn,"/").concat(e))}var _n=[];sessionStorage.rooms&&(_n=JSON.parse(sessionStorage.rooms));var Rn={state:{rooms:_n,filterBy:{txt:"",options:"all"}},getters:{rooms:function(e){return e.rooms},filterBy:function(e){return e.filterBy}},mutations:{loadRooms:function(e,t){var n=t.rooms;e.rooms=n,ee.saveToSession("rooms",n)},updateRoom:function(e,t){var n=t.room,r=e.rooms.findIndex((function(e){return e._id===n._id}));e.rooms.splice(r,1,n),ee.saveToSession("rooms",e.rooms)},addRoom:function(e,t){var n=t.room;e.rooms.push(n),ee.saveToSession("rooms",e.rooms)},removeRoom:function(e,t){var n=t.id,r=e.rooms.findIndex((function(e){return e._id===n}));-1!==r&&e.rooms.splice(r,1),ee.saveToSession("rooms",e.rooms)},setFilterBy:function(e,t){var n=t.filterBy;e.filterBy=n}},actions:{loadRooms:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vn.query();case 2:n=t.sent,e.commit({type:"loadRooms",rooms:n});case 4:case"end":return t.stop()}}),t)})))()},updateRoom:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.room,e.commit({type:"updateRoom",room:r});case 2:case"end":return n.stop()}}),n)})))()},initCurrViews:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,vn.getById(n);case 3:return r=e.sent,s=r.views,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))()},createRoom:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.room,n.next=3,vn.add(r);case 3:s=n.sent,e.commit({type:"addRoom",room:s});case 5:case"end":return n.stop()}}),n)})))()},setFilterBy:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.filterBy,e.commit({type:"setFilterBy",filterBy:r});case 2:case"end":return n.stop()}}),n)})))()},removeRoom:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.id,n.next=3,vn.remove(r);case 3:e.commit({type:"removeRoom",id:r});case 4:case"end":return n.stop()}}),n)})))()},removeRoomSockets:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.id,e.commit({type:"removeRoom",id:r});case 2:case"end":return n.stop()}}),n)})))()}}},kn="api/users";function In(){return On.apply(this,arguments)}function On(){return On=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",fn.get(kn));case 1:case"end":return e.stop()}}),e)}))),On.apply(this,arguments)}function Sn(e){return Pn.apply(this,arguments)}function Pn(){return Pn=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",fn.get("".concat(kn,"/").concat(t)));case 1:case"end":return e.stop()}}),e)}))),Pn.apply(this,arguments)}function Mn(e){return jn.apply(this,arguments)}function jn(){return jn=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",fn.post(kn,t));case 1:case"end":return e.stop()}}),e)}))),jn.apply(this,arguments)}function Un(e){return $n.apply(this,arguments)}function $n(){return $n=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",fn.put(kn,t));case 1:case"end":return e.stop()}}),e)}))),$n.apply(this,arguments)}function Tn(e){return Bn.apply(this,arguments)}function Bn(){return Bn=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fn.post("api/auth/login",t);case 2:if(n=e.sent,!n){e.next=6;break}return sessionStorage.removeItem("isRefresh"),e.abrupt("return",Vn(n));case 6:return e.abrupt("return");case 7:case"end":return e.stop()}}),e)}))),Bn.apply(this,arguments)}function An(){return Ln.apply(this,arguments)}function Ln(){return Ln=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fn.post("api/auth/logout");case 2:sessionStorage.removeItem("user");case 3:case"end":return e.stop()}}),e)}))),Ln.apply(this,arguments)}function En(e){return Nn.apply(this,arguments)}function Nn(){return Nn=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.imgUrl="https://library.kissclipart.com/20180831/ijq/kissclipart-ninja-icon-clipart-computer-icons-icon-design-ninj-56f98a5651ea6c38.jpg",e.next=3,fn.post("api/auth/signup",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),Nn.apply(this,arguments)}function Vn(e){return Dn.apply(this,arguments)}function Dn(){return Dn=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),sessionStorage.setItem("user",n),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)}))),Dn.apply(this,arguments)}var Fn={add:Mn,getById:Sn,query:In,login:Tn,logout:An,signup:En,update:Un},qn=null;sessionStorage.user&&(qn=JSON.parse(sessionStorage.user));var Yn={state:{loggedInUser:qn,users:[]},getters:{loggedInUser:function(e){return e.loggedInUser},users:function(e){return e.users}},mutations:{resetLoggedInUser:function(e,t){var n=t.user;console.log("resetting Logged In User!"),e.loggedInUser=n},setCurrUser:function(e,t){var n=t.user;e.loggedInUser=n;var r=e.users.findIndex((function(e){return e._id===n._id}));e.users.splice(r,1,n)},setUsers:function(e,t){var n=t.users;e.users=n}},actions:{loadUsers:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fn.query();case 2:n=t.sent,e.commit({type:"setUsers",users:n});case 4:case"end":return t.stop()}}),t)})))()},doLogin:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.userCred,n.next=3,Fn.login(r);case 3:if(s=n.sent,!s){n.next=7;break}return e.commit({type:"setCurrUser",user:s}),n.abrupt("return",s);case 7:return n.abrupt("return");case 8:case"end":return n.stop()}}),n)})))()},doLogout:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fn.logout();case 2:e.commit({type:"resetLoggedInUser",user:null});case 3:case"end":return t.stop()}}),t)})))()},doSignup:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.userCred,e.next=3,Fn.signup(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))()},updateUser:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.loggedInUser,n.next=3,Fn.update(r);case 3:s=n.sent,e.commit({type:"setCurrUser",user:s});case 5:case"end":return n.stop()}}),n)})))()}}};r["default"].use(un["a"]);var Hn=new un["a"].Store({state:{},mutations:{},actions:{},modules:{roomStore:Rn,userStore:Yn}}),Wn=(n("b7e3"),n("15f5"),n("7051"),n("5c96")),Jn=n.n(Wn),zn=n("b2d6"),Gn=n.n(zn),Kn=(n("0fae"),n("ecee")),Qn=n("c074"),Xn=n("ad3d"),Zn=(function(){window.addEventListener("scroll",(function(){var e=document.querySelector(".app-header");e.classList.toggle("fixed",window.scrollY>0)}))}(),n("7212")),er=n.n(Zn),tr=n("0a63"),nr=n.n(tr),rr=n("f5af"),sr=n.n(rr);n("e829");r["default"].use(nr.a),r["default"].use(er.a),Kn["c"].add(Qn["c"],Qn["k"],Qn["q"],Qn["a"],Qn["b"],Qn["m"],Qn["f"],Qn["p"],Qn["j"],Qn["o"],Qn["n"],Qn["h"],Qn["g"],Qn["l"],Qn["i"],Qn["e"],Qn["d"]),r["default"].component("font-awesome-icon",Xn["a"]),r["default"].use(Jn.a,{locale:Gn.a}),r["default"].config.productionTip=!1,new r["default"]({created:function(){sr.a.init()},router:ln,store:Hn,render:function(e){return e(_)}}).$mount("#app")},b7e3:function(e,t,n){}});
//# sourceMappingURL=app.2315fe33.js.map